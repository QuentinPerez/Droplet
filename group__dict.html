<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Droplet: Dictionaries</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Droplet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Dictionaries</div>  </div>
</div><!--header-->
<div class="contents">

<p>Nestable dictionary keyed on strings.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6a69497659154ea635fd35347624d6d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga6a69497659154ea635fd35347624d6d8">dpl_dict_new</a> (int n_buckets)</td></tr>
<tr class="memdesc:ga6a69497659154ea635fd35347624d6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new dict.  <a href="#ga6a69497659154ea635fd35347624d6d8">More...</a><br/></td></tr>
<tr class="separator:ga6a69497659154ea635fd35347624d6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29600bb75028312476caf0b75aa712dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdpl__dict__var.html">dpl_dict_var_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga29600bb75028312476caf0b75aa712dd">dpl_dict_get</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, const char *key)</td></tr>
<tr class="memdesc:ga29600bb75028312476caf0b75aa712dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup an entry.  <a href="#ga29600bb75028312476caf0b75aa712dd">More...</a><br/></td></tr>
<tr class="separator:ga29600bb75028312476caf0b75aa712dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb5b9103383bc51b98598bdd705aa52"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga7cb5b9103383bc51b98598bdd705aa52">dpl_dict_get_lowered</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, const char *key, <a class="el" href="structdpl__dict__var.html">dpl_dict_var_t</a> **varp)</td></tr>
<tr class="memdesc:ga7cb5b9103383bc51b98598bdd705aa52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup an entry using a lowered key.  <a href="#ga7cb5b9103383bc51b98598bdd705aa52">More...</a><br/></td></tr>
<tr class="separator:ga7cb5b9103383bc51b98598bdd705aa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03acb035184667816f5cf01332704e86"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga03acb035184667816f5cf01332704e86">dpl_dict_iterate</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, dpl_dict_func_t cb_func, void *cb_arg)</td></tr>
<tr class="memdesc:ga03acb035184667816f5cf01332704e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate the entries of a dict.  <a href="#ga03acb035184667816f5cf01332704e86">More...</a><br/></td></tr>
<tr class="separator:ga03acb035184667816f5cf01332704e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00ea2ec98eabb2cd6fb8b3c01caec1f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga00ea2ec98eabb2cd6fb8b3c01caec1f4">dpl_dict_count</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict)</td></tr>
<tr class="memdesc:ga00ea2ec98eabb2cd6fb8b3c01caec1f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count entries in a dict.  <a href="#ga00ea2ec98eabb2cd6fb8b3c01caec1f4">More...</a><br/></td></tr>
<tr class="separator:ga00ea2ec98eabb2cd6fb8b3c01caec1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae84cb191f860aa9fb9ec1951e31aa0e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gae84cb191f860aa9fb9ec1951e31aa0e6">dpl_dict_free</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict)</td></tr>
<tr class="memdesc:gae84cb191f860aa9fb9ec1951e31aa0e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a dict.  <a href="#gae84cb191f860aa9fb9ec1951e31aa0e6">More...</a><br/></td></tr>
<tr class="separator:gae84cb191f860aa9fb9ec1951e31aa0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec734e6376c7bcfc62f24e3164cdbaae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gaec734e6376c7bcfc62f24e3164cdbaae">dpl_dict_print</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, FILE *f, int level)</td></tr>
<tr class="memdesc:gaec734e6376c7bcfc62f24e3164cdbaae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the contents of a dict.  <a href="#gaec734e6376c7bcfc62f24e3164cdbaae">More...</a><br/></td></tr>
<tr class="separator:gaec734e6376c7bcfc62f24e3164cdbaae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad91a8a2c274add50edcf54da365cffe0"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gad91a8a2c274add50edcf54da365cffe0">dpl_dict_add_value</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, const char *key, <a class="el" href="structdpl__value.html">dpl_value_t</a> *value, int lowered)</td></tr>
<tr class="memdesc:gad91a8a2c274add50edcf54da365cffe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or replace an entry.  <a href="#gad91a8a2c274add50edcf54da365cffe0">More...</a><br/></td></tr>
<tr class="separator:gad91a8a2c274add50edcf54da365cffe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15a8c7ae4b684eabf865aa9ec4200ceb"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga15a8c7ae4b684eabf865aa9ec4200ceb">dpl_dict_add</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, const char *key, const char *string, int lowered)</td></tr>
<tr class="memdesc:ga15a8c7ae4b684eabf865aa9ec4200ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or replace a string entry.  <a href="#ga15a8c7ae4b684eabf865aa9ec4200ceb">More...</a><br/></td></tr>
<tr class="separator:ga15a8c7ae4b684eabf865aa9ec4200ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e25963baf564f7ee1c0b842566d0872"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga5e25963baf564f7ee1c0b842566d0872">dpl_dict_copy</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dst, const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *src)</td></tr>
<tr class="memdesc:ga5e25963baf564f7ee1c0b842566d0872"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all entries from one dict to another.  <a href="#ga5e25963baf564f7ee1c0b842566d0872">More...</a><br/></td></tr>
<tr class="separator:ga5e25963baf564f7ee1c0b842566d0872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa51aa804268db9619f04c36859e16a7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gaa51aa804268db9619f04c36859e16a7e">dpl_dict_dup</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *src)</td></tr>
<tr class="memdesc:gaa51aa804268db9619f04c36859e16a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate a dict.  <a href="#gaa51aa804268db9619f04c36859e16a7e">More...</a><br/></td></tr>
<tr class="separator:gaa51aa804268db9619f04c36859e16a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cfab456dfae1009d17f7d28c4b38c76"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#ga7cfab456dfae1009d17f7d28c4b38c76">dpl_dict_filter_prefix</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dst, const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *src, const char *prefix)</td></tr>
<tr class="memdesc:ga7cfab456dfae1009d17f7d28c4b38c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy entries matching a prefix from one dict to another.  <a href="#ga7cfab456dfae1009d17f7d28c4b38c76">More...</a><br/></td></tr>
<tr class="separator:ga7cfab456dfae1009d17f7d28c4b38c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac2cccb05dc079ea790f656e1563a8c3"><td class="memItemLeft" align="right" valign="top">dpl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gaac2cccb05dc079ea790f656e1563a8c3">dpl_dict_filter_no_prefix</a> (<a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dst, const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *src, const char *prefix)</td></tr>
<tr class="memdesc:gaac2cccb05dc079ea790f656e1563a8c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy entries not matching a prefix from one dict to another.  <a href="#gaac2cccb05dc079ea790f656e1563a8c3">More...</a><br/></td></tr>
<tr class="separator:gaac2cccb05dc079ea790f656e1563a8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9afefdce549bfdfa437f5e2ec9078b2"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dict.html#gad9afefdce549bfdfa437f5e2ec9078b2">dpl_dict_get_value</a> (const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *dict, const char *key)</td></tr>
<tr class="memdesc:gad9afefdce549bfdfa437f5e2ec9078b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup a string-valued entry.  <a href="#gad9afefdce549bfdfa437f5e2ec9078b2">More...</a><br/></td></tr>
<tr class="separator:gad9afefdce549bfdfa437f5e2ec9078b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The <code>dpl_dict_t</code> structure is a simple key/value dictionary. Keys are strings, and values may be strings, vectors, or nested dicts. Entries are unique for a given key; adding a second entry with a matching key silently replaces the original.</p>
<p>Dicts are implemented with a chained hash table for efficiency.</p>
<p>Dicts are used within Droplet to store all kinds of data, but in particular collections of user metadata strings (which map naturally to key/value string pairs). </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga15a8c7ae4b684eabf865aa9ec4200ceb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lowered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds to the dict a new entry keyed by <em>key</em> with a string value <em>string</em>. If the dict already contains an entry with the same key, the old entry is replaced. Both <em>key</em> and <em>string</em> are copied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict to add an entry to </td></tr>
    <tr><td class="paramname">key</td><td>the key for the new entry </td></tr>
    <tr><td class="paramname">string</td><td>the new value to be entered </td></tr>
    <tr><td class="paramname">lowered</td><td>if nonzero, <em>key</em> is converted to lower case </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad91a8a2c274add50edcf54da365cffe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_add_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdpl__value.html">dpl_value_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lowered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds to the dict a new entry keyed by <em>key</em> with value <code>value</code>. If the dict already contains an entry with the same key, the old entry is replaced. Both <em>key</em> and <em>value</em> are copied. If the value is a string, you should use <code><a class="el" href="group__dict.html#ga15a8c7ae4b684eabf865aa9ec4200ceb" title="Add or replace a string entry.">dpl_dict_add()</a></code> which is a more convenient interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict to add an entry to </td></tr>
    <tr><td class="paramname">key</td><td>the key for the new </td></tr>
    <tr><td class="paramname">value</td><td>the new value to be entered </td></tr>
    <tr><td class="paramname">lowered</td><td>if nonzero, <em>key</em> is converted to lower case </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5e25963baf564f7ee1c0b842566d0872"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies all the entries from dict <em>src</em> to dict <em>dst</em>. If <em>dst</em> contains entries which match entries in <em>src</em>, those entries will be replaced.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>the dict to copy entries to </td></tr>
    <tr><td class="paramname">src</td><td>the dict to copy entries from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga00ea2ec98eabb2cd6fb8b3c01caec1f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dpl_dict_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Counts and returns the number of entries in the dict.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict whose entries are to be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of entries in the dict </dd></dl>

</div>
</div>
<a class="anchor" id="gaa51aa804268db9619f04c36859e16a7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdpl__dict.html">dpl_dict_t</a>* dpl_dict_dup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and returns a new dict containing copies of all the entries from the dict <em>src</em>. You should call <code><a class="el" href="group__dict.html#gae84cb191f860aa9fb9ec1951e31aa0e6" title="Free a dict.">dpl_dict_free()</a></code> to free the dict when you have finished using it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the dict to copy entries from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new dict or NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="gaac2cccb05dc079ea790f656e1563a8c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_filter_no_prefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies to dict <em>dst</em> all the entries from dict <em>src</em> whose keys do <b>NOT</b> match the string prefix <em>prefix</em>. The comparison is case sensitive. If <em>dst</em> contains entries which match entries in <em>src</em>, those entries will be replaced.</p>
<dl class="section note"><dt>Note</dt><dd>if <em>src</em> is <code>NULL</code>, <em>dst</em> will be freed. This may be surprising.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>the dict to copy entries to </td></tr>
    <tr><td class="paramname">src</td><td>the dict to copy entries from </td></tr>
    <tr><td class="paramname">prefix</td><td>a string prefix for comparing to keys </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7cfab456dfae1009d17f7d28c4b38c76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_filter_prefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies to dict <em>dst</em> all the entries from dict <em>src</em> whose keys match the string prefix <em>prefix</em>. The comparison is case sensitive. If <em>dst</em> contains entries which match entries in <em>src</em>, those entries will be replaced.</p>
<dl class="section note"><dt>Note</dt><dd>if <em>src</em> is <code>NULL</code>, <em>dst</em> will be freed. This may be surprising.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>the dict to copy entries to </td></tr>
    <tr><td class="paramname">src</td><td>the dict to copy entries from </td></tr>
    <tr><td class="paramname">prefix</td><td>a string prefix for comparing to keys </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae84cb191f860aa9fb9ec1951e31aa0e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpl_dict_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the dict and all its entries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga29600bb75028312476caf0b75aa712dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdpl__dict__var.html">dpl_dict_var_t</a>* dpl_dict_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks up and returns an entry in the dict matching key <em>key</em> exactly, or <code>NULL</code> if no matching entry is found. The <code>val</code> field in the returned <code>dpl_dict_var_t</code> structure points to a <code>dpl_value_t</code> which contains the stored value. If you know beforehand that the value will be a string, you should call <code><a class="el" href="group__dict.html#gad9afefdce549bfdfa437f5e2ec9078b2" title="Lookup a string-valued entry.">dpl_dict_get_value()</a></code> instead, as it's a more convenient interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict to look up </td></tr>
    <tr><td class="paramname">key</td><td>the key to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the entry matching <em>key</em> if found, or NULL </dd></dl>

</div>
</div>
<a class="anchor" id="ga7cb5b9103383bc51b98598bdd705aa52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_get_lowered </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdpl__dict__var.html">dpl_dict_var_t</a> **&#160;</td>
          <td class="paramname"><em>varp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks up and returns an entry in the dict matching a lower case version of <em>key</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">dict</td><td>the dict to look up in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>the key to look up </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">varp</td><td>if a matching entry is found, <code>*varp</code> will be changed to point at it </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_ENOENT</td><td>if no matching entry is found, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>other Droplet error codes on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad9afefdce549bfdfa437f5e2ec9078b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dpl_dict_get_value </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks up an entry in the dict matching key <em>key</em> exactly, and returns the entry's value string or <code>NULL</code> if no matching entry is found. The returned string is owned by the dict, do not free it.</p>
<p>A found entry must be string valued, or this function will fail an assert. Use <code><a class="el" href="group__dict.html#ga29600bb75028312476caf0b75aa712dd" title="Lookup an entry.">dpl_dict_get()</a></code> for the more general case where the entry can be other types than a string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict to look up </td></tr>
    <tr><td class="paramname">key</td><td>the key to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the matching entry's value if found, or <code>NULL</code> </dd></dl>

</div>
</div>
<a class="anchor" id="ga03acb035184667816f5cf01332704e86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpl_status_t dpl_dict_iterate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dpl_dict_func_t&#160;</td>
          <td class="paramname"><em>cb_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls the callback function <em>cb_func</em> once for each entry in the dict. The callback may safely add or delete entries from the dict; newly added entries may or may not be seen during the iteration.</p>
<p>The callback returns a Droplet error code; if it returns any code other than <code>DPL_SUCCESS</code> iteration ceases immediately and that code is returned from <code><a class="el" href="group__dict.html#ga03acb035184667816f5cf01332704e86" title="Iterate the entries of a dict.">dpl_dict_iterate()</a></code>. The callback function should be declared like this</p>
<div class="fragment"><div class="line">dpl_status_t</div>
<div class="line">my_callback(<a class="code" href="structdpl__dict__var.html">dpl_dict_var_t</a> *var, <span class="keywordtype">void</span> *cb_arg)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *key = var-&gt;key;</div>
<div class="line">   <a class="code" href="structdpl__value.html">dpl_value_t</a> *val = var-&gt;val;</div>
<div class="line">   <span class="keywordflow">return</span> DPL_SUCCESS;  <span class="comment">// keep iterating</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict whose entries will be iterated </td></tr>
    <tr><td class="paramname">cb_func</td><td>callback function to call </td></tr>
    <tr><td class="paramname">cb_arg</td><td>opaque pointer passed to callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DPL_SUCCESS</td><td>on success, or </td></tr>
    <tr><td class="paramname">DPL_*</td><td>a Droplet error code returned by the callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6a69497659154ea635fd35347624d6d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdpl__dict.html">dpl_dict_t</a>* dpl_dict_new </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_buckets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and returns a new <code>dpl_dict_t</code> object. The <em>n_buckets</em> parameter controls how many hash buckets the dict will use, which is fixed for the lifetime of the dict but does not affect the dict's capacity, only it's performance. Typically a prime number like 13 is a good choice for small dicts. You should call <code><a class="el" href="group__dict.html#gae84cb191f860aa9fb9ec1951e31aa0e6" title="Free a dict.">dpl_dict_free()</a></code> to free the dict when you have finished using it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_buckets</td><td>specifies how many buckets the dict will use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new dict, or NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="gaec734e6376c7bcfc62f24e3164cdbaae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpl_dict_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpl__dict.html">dpl_dict_t</a> *&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the keys and values of all entries in the dict in a human readable format with indenting. Handles non-string values; in particular vectors and nested dicts. This function is useful only for debugging, as there is no ability to read this information back into a dict.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>the dict whose entries are to be printed </td></tr>
    <tr><td class="paramname">f</td><td>a stdio file to which to print the entries </td></tr>
    <tr><td class="paramname">level</td><td>you should pass 0 for this argument </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 24 2014 11:26:56 for Droplet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
